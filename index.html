<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PhantomBlog · EquinoxX</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* ================= 全局重置 & 基础变量 ================= */
:root {
  --bg-primary: #050816;
  --bg-secondary: #0d111f;
  --bg-card: rgba(17, 25, 40, 0.85);
  --bg-nav: rgba(17, 25, 40, 0.95);
  --border-light: rgba(129, 140, 163, 0.15);
  --text-primary: #f9fafb;
  --text-muted: #94a3b8;
  --accent-primary: #22d3ee;
  --accent-secondary: #6366f1;
  --accent-tertiary: #d946ef;
  --accent-gradient: linear-gradient(135deg, var(--accent-tertiary), var(--accent-secondary), var(--accent-primary));
  --accent-gradient-short: linear-gradient(135deg, var(--accent-secondary), var(--accent-primary));
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.15);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.2);
  --shadow-glow: 0 0 30px rgba(34, 211, 238, 0.25);
  --radius-sm: 8px;
  --radius-md: 16px;
  --radius-lg: 24px;
  --radius-full: 9999px;
  --transition-fast: 0.2s ease;
  --transition-normal: 0.4s ease;
  --transition-slow: 0.8s ease;
  --transition-elastic: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

body.light {
  --bg-primary: #f8fafc;
  --bg-secondary: #ffffff;
  --bg-card: rgba(255, 255, 255, 0.9);
  --bg-nav: rgba(255, 255, 255, 0.98);
  --border-light: rgba(148, 163, 184, 0.2);
  --text-primary: #0f172a;
  --text-muted: #64748b;
  --accent-primary: #3b82f6;
  --accent-secondary: #06b6d4;
  --accent-tertiary: #8b5cf6;
  --shadow-glow: 0 0 30px rgba(59, 130, 246, 0.25);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Inter', "PingFang SC", "Microsoft YaHei", Arial, sans-serif;
}

html {
  scroll-behavior: smooth;
  scroll-padding-top: 72px; /* 精准适配导航栏高度 */
}

body {
  background: var(--bg-primary);
  color: var(--text-primary);
  overflow-x: hidden;
  line-height: 1.6;
  transition: all var(--transition-normal);
}

canvas#bg {
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;
  filter: blur(0.5px);
}

/* ================= 导航栏 ================= */
nav {
  position: sticky;
  top: 0;
  z-index: 999;
  backdrop-filter: blur(24px);
  background: var(--bg-nav);
  border-bottom: 1px solid var(--border-light);
  padding: 0 2rem;
  box-shadow: var(--shadow-sm);
  transition: all var(--transition-fast);
}

nav.scrolled {
  background: rgba(17, 25, 40, 0.98);
  box-shadow: var(--shadow-md);
}
body.light nav.scrolled {
  background: rgba(255, 255, 255, 0.99);
}

.nav-container {
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 72px;
}

.logo {
  font-size: 1.25rem;
  font-weight: 700;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: -0.02em;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.logo i {
  font-size: 1.4rem;
  animation: pulse 2s infinite ease-in-out;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.1); opacity: 0.8; }
}

.nav-links-wrapper {
  display: flex;
  align-items: center;
  gap: 2.5rem;
}

.nav-links {
  display: flex;
  gap: 2.5rem;
}

.nav-links a {
  color: var(--text-primary);
  text-decoration: none;
  font-weight: 500;
  font-size: 1rem;
  position: relative;
  padding: 0.5rem 0;
  transition: color var(--transition-fast);
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

.nav-links a i {
  opacity: 0;
  transform: translateX(-5px);
  transition: all var(--transition-fast);
}

.nav-links a:hover {
  color: var(--accent-primary);
}

.nav-links a:hover i {
  opacity: 1;
  transform: translateX(0);
}

.nav-links a::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--accent-gradient-short);
  border-radius: var(--radius-sm);
  transition: width var(--transition-normal);
}

.nav-links a:hover::after {
  width: 100%;
}

#themeBtn {
  cursor: pointer;
  font-size: 1.2rem;
  background: rgba(129, 140, 163, 0.08);
  border: 1px solid var(--border-light);
  color: var(--text-primary);
  padding: 0.6rem 1.1rem;
  border-radius: var(--radius-full);
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}

#themeBtn:hover {
  background: rgba(129, 140, 163, 0.15);
  box-shadow: var(--shadow-sm);
  transform: translateY(-1px);
}

.hamburger {
  display: none;
  cursor: pointer;
  font-size: 1.5rem;
  background: rgba(129, 140, 163, 0.08);
  border: 1px solid var(--border-light);
  color: var(--text-primary);
  padding: 0.5rem 1rem;
  border-radius: var(--radius-full);
  transition: all var(--transition-fast);
}

.hamburger:hover {
  background: rgba(129, 140, 163, 0.15);
}

.mobile-nav {
  position: fixed;
  top: 72px;
  left: 0;
  right: 0;
  background: var(--bg-nav);
  backdrop-filter: blur(24px);
  border-bottom: 1px solid var(--border-light);
  padding: 1.5rem 2rem;
  display: none;
  flex-direction: column;
  gap: 1.5rem;
  box-shadow: var(--shadow-md);
  z-index: 998;
  transform: translateY(-20px);
  opacity: 0;
  transition: all var(--transition-elastic);
}

.mobile-nav.active {
  display: flex;
  transform: translateY(0);
  opacity: 1;
}

.mobile-nav a {
  color: var(--text-primary);
  text-decoration: none;
  font-weight: 500;
  font-size: 1.1rem;
  padding: 0.5rem 0;
  border-bottom: 1px solid transparent;
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.mobile-nav a:hover {
  color: var(--accent-primary);
  border-bottom: 1px solid var(--border-light);
  padding-left: 0.5rem;
}

/* ================= 首页头部 ================= */
header#home {
  min-height: calc(100vh - 72px);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 2rem;
  position: relative;
}

header#home::after {
  content: "";
  position: absolute;
  bottom: 50px;
  width: 60px;
  height: 60px;
  background: var(--accent-gradient);
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.3;
  z-index: -1;
}

header h1 {
  font-size: clamp(3rem, 7vw, 5.5rem);
  font-weight: 800;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 1.5rem;
  letter-spacing: -0.02em;
  text-shadow: 0 0 30px rgba(34, 211, 238, 0.1);
  animation: textGlow 3s infinite alternate;
}

@keyframes textGlow {
  from { text-shadow: 0 0 30px rgba(34, 211, 238, 0.1); }
  to { text-shadow: 0 0 40px rgba(34, 211, 238, 0.3); }
}

header p {
  font-size: clamp(1rem, 2vw, 1.3rem);
  color: var(--text-muted);
  max-width: 600px;
  position: relative;
  padding: 1rem 2rem;
  background: rgba(17, 25, 40, 0.3);
  border-radius: var(--radius-full);
  backdrop-filter: blur(10px);
  border: 1px solid var(--border-light);
}

body.light header p {
  background: rgba(255, 255, 255, 0.3);
}

/* ================= 关于我区域 ================= */
section#about.intro {
  max-width: 800px;
  margin: 8rem auto;
  padding: 0 2rem;
  text-align: center;
  position: relative;
}

.avatar-wrapper {
  width: clamp(150px, 20vw, 200px);
  height: clamp(150px, 20vw, 200px);
  margin: 0 auto 2rem;
  border-radius: 50%;
  background: var(--accent-gradient);
  animation: spin 15s linear infinite;
  padding: 4px;
  box-shadow: var(--shadow-glow);
  position: relative;
}

.avatar-wrapper::after {
  content: "";
  position: absolute;
  inset: -10px;
  border-radius: 50%;
  background: var(--accent-gradient);
  opacity: 0.2;
  filter: blur(20px);
  z-index: -1;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.avatar-inner {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: var(--bg-primary);
  padding: 5px;
}

.avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  transition: transform var(--transition-elastic);
}

.avatar-wrapper:hover .avatar {
  transform: scale(1.05) rotate(2deg);
}

.name {
  font-size: clamp(1.8rem, 3vw, 2.8rem);
  font-weight: 700;
  margin-bottom: 0.5rem;
  position: relative;
  display: inline-block;
}

.name::after {
  content: "";
  position: absolute;
  bottom: -5px;
  left: 0;
  width: 100%;
  height: 2px;
  background: var(--accent-gradient-short);
  border-radius: var(--radius-sm);
  transform: scaleX(0);
  transition: transform var(--transition-normal);
}

section#about:hover .name::after {
  transform: scaleX(1);
}

.alias {
  color: var(--text-muted);
  margin-bottom: 1.5rem;
  font-style: italic;
}

.tags {
  margin: 2rem 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.8rem;
}

.tags span {
  padding: 0.5rem 1.2rem;
  border-radius: var(--radius-full);
  background: rgba(129, 140, 163, 0.1);
  border: 1px solid var(--border-light);
  color: var(--text-muted);
  font-size: 0.9rem;
  transition: all var(--transition-fast);
  position: relative;
  overflow: hidden;
}

.tags span::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(34, 211, 238, 0.1), transparent);
  transition: left var(--transition-normal);
}

.tags span:hover {
  background: rgba(34, 211, 238, 0.1);
  color: var(--accent-primary);
  border-color: rgba(34, 211, 238, 0.2);
  transform: translateY(-2px);
  box-shadow: var(--shadow-sm);
}

.tags span:hover::before {
  left: 100%;
}

.social {
  margin: 2.5rem 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 1rem;
}

.social a {
  padding: 0.7rem 1.5rem;
  border-radius: var(--radius-full);
  background: transparent;
  border: 1px solid var(--border-light);
  color: var(--accent-primary);
  text-decoration: none;
  font-weight: 500;
  font-size: 0.95rem;
  position: relative;
  overflow: hidden;
  transition: all var(--transition-normal);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.social a::before {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--accent-gradient);
  opacity: 0;
  transition: opacity var(--transition-normal);
  z-index: -1;
}

.social a:hover {
  color: var(--text-primary);
  border-color: transparent;
  box-shadow: var(--shadow-glow);
  transform: translateY(-3px) scale(1.02);
}

.social a:hover::before {
  opacity: 1;
}

#emailBtn {
  cursor: pointer;
}

/* ================= 文章列表 ================= */
section#posts.container {
  max-width: 1000px;
  margin: 8rem auto;
  padding: 0 2rem;
}

.card {
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-md);
  padding: 2rem;
  backdrop-filter: blur(20px);
  margin-bottom: 2rem;
  box-shadow: var(--shadow-sm);
  transition: all var(--transition-normal);
  position: relative;
  overflow: hidden;
}

.card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: var(--accent-gradient);
  transform: scaleX(0);
  transition: transform var(--transition-normal);
}

.card:hover {
  transform: translateY(-6px) rotateX(2deg) rotateY(2deg);
  box-shadow: var(--shadow-lg);
  border-color: rgba(34, 211, 238, 0.2);
}

.card:hover::before {
  transform: scaleX(1);
}

.card h2 {
  font-size: 1.5rem;
  font-weight: 600;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 0.8rem;
  transition: all var(--transition-fast);
}

.card:hover h2 {
  transform: translateX(5px);
}

.meta {
  color: var(--text-muted);
  font-size: 0.9rem;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.meta::before {
  content: "";
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: var(--accent-primary);
  animation: pulseDot 2s infinite alternate;
}

@keyframes pulseDot {
  from { transform: scale(1); }
  to { transform: scale(1.5); }
}

/* ================= 留言板样式（含留言人展示） ================= */
section#comments.container {
  max-width: 1000px;
  margin: 8rem auto;
  padding: 0 2rem;
}

section#comments h2 {
  font-size: clamp(1.5rem, 3vw, 2.2rem);
  font-weight: 700;
  margin-bottom: 2rem;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  position: relative;
  display: inline-block;
}

section#comments h2::after {
  content: "";
  position: absolute;
  bottom: -8px;
  left: 0;
  width: 60%;
  height: 3px;
  background: var(--accent-gradient-short);
  border-radius: var(--radius-sm);
}

/* 留言卡片样式 */
.comment-card {
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-md);
  padding: 1.8rem;
  backdrop-filter: blur(20px);
  margin-bottom: 1.5rem;
  box-shadow: var(--shadow-sm);
  transition: all var(--transition-normal);
}

.comment-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-md);
  border-color: rgba(34, 211, 238, 0.2);
}

/* 留言人信息 */
.comment-author {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

.author-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: var(--accent-gradient);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  color: white;
  font-weight: 600;
}

.author-info {
  display: flex;
  flex-direction: column;
}

.author-name {
  font-weight: 600;
  color: var(--accent-primary);
  font-size: 1.1rem;
}

.comment-date {
  font-size: 0.85rem;
  color: var(--text-muted);
}

/* 留言内容 */
.comment-content {
  color: var(--text-primary);
  line-height: 1.7;
  padding-top: 0.5rem;
  border-top: 1px solid var(--border-light);
}

/* 无留言/加载失败提示 */
.comment-empty, .comment-error {
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-md);
  padding: 2rem;
  text-align: center;
  color: var(--text-muted);
}

.comment-error {
  color: #f87171;
}

/* ================= 图片画廊 ================= */
section#gallery.container {
  max-width: 1200px;
  margin: 8rem auto;
  padding: 0 2rem;
}

section#gallery h2 {
  font-size: clamp(1.5rem, 3vw, 2.2rem);
  font-weight: 700;
  margin-bottom: 2rem;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  position: relative;
  display: inline-block;
}

section#gallery h2::after {
  content: "";
  position: absolute;
  bottom: -8px;
  left: 0;
  width: 60%;
  height: 3px;
  background: var(--accent-gradient-short);
  border-radius: var(--radius-sm);
}

.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(clamp(180px, 20vw, 250px), 1fr));
  gap: 1.5rem;
}

.gallery img {
  width: 100%;
  border-radius: var(--radius-sm);
  aspect-ratio: 1/1;
  object-fit: cover;
  padding: 3px;
  background: var(--accent-gradient);
  transition: all var(--transition-elastic);
  cursor: pointer;
  position: relative;
  z-index: 1;
}

.gallery img:hover {
  transform: scale(1.08) rotate(1deg);
  box-shadow: var(--shadow-glow);
  z-index: 2;
}

/* ================= Email弹窗 ================= */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(8px);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: all var(--transition-normal);
}

.modal-overlay.active {
  opacity: 1;
  visibility: visible;
}

.modal {
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: 2.5rem;
  width: 90%;
  max-width: 450px;
  text-align: center;
  backdrop-filter: blur(20px);
  box-shadow: var(--shadow-lg);
  transform: translateY(20px) scale(0.95);
  transition: all var(--transition-elastic);
  position: relative;
  overflow: hidden;
}

.modal-overlay.active .modal {
  transform: translateY(0) scale(1);
}

.modal::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 6px;
  background: var(--accent-gradient);
}

.modal::after {
  content: "";
  position: absolute;
  top: -50%;
  right: -50%;
  width: 200%;
  height: 200%;
  background: var(--accent-gradient);
  opacity: 0.05;
  border-radius: 50%;
  filter: blur(50px);
  z-index: -1;
  animation: modalFloat 8s infinite ease-in-out;
}

@keyframes modalFloat {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  50% { transform: translate(-10%, -10%) rotate(5deg); }
}

.modal h3 {
  font-size: 1.8rem;
  font-weight: 700;
  margin-bottom: 1rem;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.modal .email-text {
  font-size: 1.2rem;
  font-weight: 500;
  padding: 1.2rem;
  background: rgba(17, 25, 40, 0.3);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-light);
  margin: 1.5rem 0;
  color: var(--accent-primary);
  letter-spacing: 0.5px;
}

body.light .modal .email-text {
  background: rgba(255, 255, 255, 0.3);
}

.modal .copy-btn {
  padding: 0.8rem 2rem;
  border-radius: var(--radius-full);
  background: var(--accent-gradient);
  border: none;
  color: white;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);
  margin-top: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
}

.modal .copy-btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-glow);
}

.modal .close-btn {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: transparent;
  border: none;
  color: var(--text-muted);
  font-size: 1.5rem;
  cursor: pointer;
  transition: all var(--transition-fast);
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}

.modal .close-btn:hover {
  color: var(--accent-primary);
  background: rgba(129, 140, 163, 0.1);
}

.modal .copy-success {
  color: #10b981;
  font-size: 0.9rem;
  margin-top: 1rem;
  opacity: 0;
  transition: all var(--transition-fast);
}

.modal .copy-success.active {
  opacity: 1;
}

/* ================= 页脚 ================= */
footer#contact {
  text-align: center;
  padding: 4rem 2rem;
  color: var(--text-muted);
  font-size: 0.9rem;
  border-top: 1px solid var(--border-light);
  margin-top: 8rem;
  background: rgba(17, 25, 40, 0.5);
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

footer#contact::before {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: var(--accent-gradient);
}

footer#contact p {
  position: relative;
  z-index: 1;
}

/* ================= 渐显动画 ================= */
.reveal {
  opacity: 0;
  transform: translateY(30px) scale(0.98);
  transition: opacity var(--transition-slow), transform var(--transition-slow);
}

.reveal.active {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* ================= 响应式适配 ================= */
@media (max-width: 768px) {
  .nav-links-wrapper {
    gap: 1.5rem;
  }
  .nav-links {
    display: none;
  }
  .hamburger {
    display: block;
  }
  .social {
    gap: 0.8rem;
  }
  .social a {
    padding: 0.6rem 1.2rem;
    font-size: 0.9rem;
  }
  section#about.intro,
  section#posts.container,
  section#comments.container,
  section#gallery.container {
    margin: 5rem auto;
  }
  .modal {
    padding: 2rem 1.5rem;
  }
  .modal h3 {
    font-size: 1.5rem;
  }
  .modal .email-text {
    font-size: 1.1rem;
    padding: 1rem;
  }
  .gallery {
    grid-template-columns: repeat(auto-fill, minmax(clamp(140px, 18vw, 200px), 1fr));
    gap: 1rem;
  }
  /* 平板端留言板适配 */
  .comment-author {
    gap: 0.8rem;
  }
  .author-avatar {
    width: 40px;
    height: 40px;
    font-size: 1rem;
  }
}

@media (max-width: 480px) {
  nav {
    padding: 0 1rem;
  }
  .mobile-nav {
    padding: 1.2rem 1rem;
  }
  header#home {
    padding: 1rem;
  }
  header h1 {
    font-size: clamp(2.5rem, 7vw, 4rem);
  }
  .card {
    padding: 1.5rem;
  }
  .gallery {
    grid-template-columns: repeat(auto-fill, minmax(clamp(100px, 15vw, 150px), 1fr));
    gap: 0.8rem;
  }
  .gallery img:hover {
    transform: scale(1.03) rotate(0.5deg);
  }
  /* 手机端留言板适配 */
  .comment-card {
    padding: 1.5rem 1.2rem;
  }
  .author-avatar {
    width: 36px;
    height: 36px;
    font-size: 0.9rem;
  }
  .author-name {
    font-size: 1rem;
  }
  .comment-content {
    font-size: 0.95rem;
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

body {
  animation: fadeIn 0.8s ease;
}
</style>
</head>
<body>
<canvas id="bg"></canvas>

<!-- 导航栏 -->
<nav id="mainNav">
  <div class="nav-container">
    <div class="logo">
      <i class="fas fa-ghost"></i>
      PhantomBlog
    </div>
    
    <div class="nav-links-wrapper">
      <div class="nav-links">
        <a href="#home"><i class="fas fa-home"></i> 首页</a>
        <a href="#about"><i class="fas fa-user"></i> 关于</a>
        <a href="#posts"><i class="fas fa-file-alt"></i> 文章</a>
        <a href="#comments"><i class="fas fa-comment-dots"></i> 留言板</a>
        <a href="#gallery"><i class="fas fa-images"></i> 画廊</a>
        <a href="#contact"><i class="fas fa-envelope"></i> 联系</a>
      </div>
      
      <button id="themeBtn"><i class="fas fa-moon"></i></button>
    </div>
    
    <button class="hamburger" id="hamburgerBtn">
      <i class="fas fa-bars"></i>
    </button>
  </div>
  
  <div class="mobile-nav" id="mobileNav">
    <a href="#home"><i class="fas fa-home"></i> 首页</a>
    <a href="#about"><i class="fas fa-user"></i> 关于</a>
    <a href="#posts"><i class="fas fa-file-alt"></i> 文章</a>
    <a href="#comments"><i class="fas fa-comment-dots"></i> 留言板</a>
    <a href="#gallery"><i class="fas fa-images"></i> 画廊</a>
    <a href="#contact"><i class="fas fa-envelope"></i> 联系</a>
  </div>
</nav>

<!-- 首页头部 -->
<header id="home">
  <h1>PhantomBlog</h1>
  <p>EquinoxX 设计的极简高级博客 ✨</p>
</header>

<!-- 关于我 -->
<section id="about" class="intro reveal">
  <div class="avatar-wrapper">
    <div class="avatar-inner">
      <img class="avatar" src="avatar.jpg" alt="EquinoxX 头像">
    </div>
  </div>
  <h2 class="name">EquinoxX</h2>
  <div class="alias">曾用名：Bo1tLightning · Talismanity</div>
  <p>中国 · 辽宁 ｜ 打游戏 · 编程</p>

  <div class="tags">
    <span>Apex</span>
    <span>COD</span>
    <span>CODM</span>
    <span>Deadlock</span>
    <span>CS2</span>
  </div>

  <div class="social">
    <a target="_blank" href="https://github.com/BoltLightningAlan"><i class="fab fa-github"></i> GitHub</a>
    <a target="_blank" href="https://space.bilibili.com/572435740"><i class="fab fa-bilibili"></i> Bilibili</a>
    <a target="_blank" href="https://www.youtube.com/@Talismanity"><i class="fab fa-youtube"></i> YouTube</a>
    <a id="emailBtn"><i class="fas fa-envelope"></i> Email</a>
  </div>
</section>

<!-- 文章列表 -->
<section id="posts" class="container">
  <div id="postList"></div>
</section>

<!-- 留言板（新增：文章下方、画廊上方） -->
<section id="comments" class="container reveal">
  <h2>留言板</h2>
  <div id="commentList"></div>
</section>

<!-- 图片画廊 -->
<section id="gallery" class="container reveal">
  <h2>图片画廊</h2>
  <div class="gallery" id="galleryBox"></div>
</section>

<!-- 页脚 -->
<footer id="contact">
  <p>© 2026 PhantomBlog · 极简高级设计</p>
</footer>

<!-- Email弹窗 -->
<div class="modal-overlay" id="emailModal">
  <div class="modal">
    <button class="close-btn" id="closeModalBtn">
      <i class="fas fa-times"></i>
    </button>
    <h3>联系我</h3>
    <p>我的邮箱地址：</p>
    <div class="email-text" id="emailDisplay">sunshaoxuan2019@163.com</div>
    <button class="copy-btn" id="copyEmailBtn">
      <i class="fas fa-copy"></i> 复制邮箱
    </button>
    <div class="copy-success" id="copySuccess">已复制到剪贴板！</div>
  </div>
</div>

<script>
/* ===== 1. 粒子背景 ===== */
class ParticleGalaxy {
  constructor() {
    this.canvas = document.getElementById('bg');
    this.ctx = this.canvas.getContext('2d');
    this.width = window.innerWidth;
    this.height = window.innerHeight;
    this.particles = [];
    this.mouse = { x: null, y: null, radius: 180 };
    this.particleCount = this.isMobile() ? 200 : 500;
    this.trailMaxAge = 15; // 痕迹最大存活帧数
    this.init();
  }

  isMobile() {
    return /Mobi|Android|iPhone/i.test(navigator.userAgent);
  }

  init() {
    this.canvas.width = this.width;
    this.canvas.height = this.height;
    this.createParticles();
    this.addEventListeners();
    this.animate();
  }

  createParticles() {
    this.particles = [];
    const isLight = document.body.classList.contains('light');
    for (let i = 0; i < this.particleCount; i++) {
      const size = Math.random() * 2 + 0.3;
      const colorSet = isLight 
        ? [
            `rgba(${100 + Math.random() * 80}, ${150 + Math.random() * 80}, ${255}, ${0.6 + Math.random() * 0.4})`,
            `rgba(${59 + Math.random() * 80}, ${130 + Math.random() * 80}, ${246}, ${0.6 + Math.random() * 0.4})`,
            `rgba(${6 + Math.random() * 80}, ${182 + Math.random() * 80}, ${212}, ${0.6 + Math.random() * 0.4})`
          ]
        : [
            `rgba(${34 + Math.random() * 50}, ${211 + Math.random() * 20}, ${238}, ${0.4 + Math.random() * 0.6})`,
            `rgba(${99 + Math.random() * 50}, ${102 + Math.random() * 20}, ${241}, ${0.4 + Math.random() * 0.6})`,
            `rgba(${217 + Math.random() * 30}, ${70 + Math.random() * 20}, ${239}, ${0.4 + Math.random() * 0.6})`
          ];
      
      this.particles.push({
        x: Math.random() * this.width,
        y: Math.random() * this.height,
        size,
        speedX: (Math.random() - 0.5) * 0.4,
        speedY: (Math.random() - 0.5) * 0.4,
        color: colorSet[Math.floor(Math.random() * colorSet.length)],
        alpha: Math.random() * 0.9 + 0.1,
        originalAlpha: Math.random() * 0.9 + 0.1,
        trail: []
      });
    }
  }

  addEventListeners() {
    window.addEventListener('resize', () => {
      this.width = window.innerWidth;
      this.height = window.innerHeight;
      this.canvas.width = this.width;
      this.canvas.height = this.height;
      this.createParticles();
    });

    if (this.isMobile()) {
      window.addEventListener('touchmove', (e) => {
        this.mouse.x = e.touches[0].clientX;
        this.mouse.y = e.touches[0].clientY;
      });
      window.addEventListener('touchend', () => {
        this.mouse.x = null;
        this.mouse.y = null;
      });
    } else {
      window.addEventListener('mousemove', (e) => {
        this.mouse.x = e.clientX;
        this.mouse.y = e.clientY;
      });
    }

    document.getElementById('themeBtn').addEventListener('click', () => {
      this.createParticles();
    });
  }

  draw() {
    this.ctx.fillStyle = document.body.classList.contains('light') 
      ? 'rgba(248, 250, 252, 0.1)' 
      : 'rgba(10, 14, 23, 0.1)';
    this.ctx.fillRect(0, 0, this.width, this.height);

    this.particles.forEach((particle, index) => {
      particle.trail.push({ 
        x: particle.x, 
        y: particle.y, 
        age: 0 
      });

      particle.trail = particle.trail.filter(point => point.age < this.trailMaxAge);
      particle.trail.forEach(point => point.age++);

      if (particle.trail.length > 1) {
        for (let i = 0; i < particle.trail.length - 1; i++) {
          const point1 = particle.trail[i];
          const point2 = particle.trail[i + 1];
          const trailAlpha = particle.alpha * (1 - point1.age / this.trailMaxAge) * 0.3;
          
          this.ctx.beginPath();
          this.ctx.moveTo(point1.x, point1.y);
          this.ctx.lineTo(point2.x, point2.y);
          this.ctx.strokeStyle = particle.color.replace(/[^,]+(?=\))/, trailAlpha);
          this.ctx.lineWidth = particle.size * 0.5 * (1 - point1.age / this.trailMaxAge);
          this.ctx.stroke();
        }
      }

      this.ctx.beginPath();
      this.ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
      this.ctx.fillStyle = particle.color.replace(/[^,]+(?=\))/, particle.alpha);
      this.ctx.fill();

      particle.x += particle.speedX;
      particle.y += particle.speedY;

      if (particle.x < 0) particle.x = this.width;
      if (particle.x > this.width) particle.x = 0;
      if (particle.y < 0) particle.y = this.height;
      if (particle.y > this.height) particle.y = 0;

      if (this.mouse.x && this.mouse.y) {
        const dx = this.mouse.x - particle.x;
        const dy = this.mouse.y - particle.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        
        if (distance < this.mouse.radius) {
          const forceDirectionX = dx / distance;
          const forceDirectionY = dy / distance;
          const force = (this.mouse.radius - distance) / this.mouse.radius;
          
          particle.speedX += forceDirectionX * force * 0.05;
          particle.speedY += forceDirectionY * force * 0.05;
          
          const scale = 1 + (this.mouse.radius - distance) / this.mouse.radius;
          particle.size = Math.random() * 2 * scale + 0.3;
          particle.alpha = particle.originalAlpha * scale;
        } else {
          particle.speedX *= 0.98;
          particle.speedY *= 0.98;
          particle.size = Math.random() * 2 + 0.3;
          particle.alpha = particle.originalAlpha;
        }

        if (distance < this.mouse.radius / 1.5) {
          this.particles.forEach((particle2, index2) => {
            if (index !== index2) {
              const dx2 = particle.x - particle2.x;
              const dy2 = particle.y - particle2.y;
              const distance2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);
              if (distance2 < 100) {
                const opacity = 1 - (distance2 / 100);
                const gradient = this.ctx.createLinearGradient(
                  particle.x, particle.y,
                  particle2.x, particle2.y
                );
                gradient.addColorStop(0, particle.color.replace(/[^,]+(?=\))/, opacity * 0.2));
                gradient.addColorStop(1, particle2.color.replace(/[^,]+(?=\))/, opacity * 0.2));
                
                this.ctx.beginPath();
                this.ctx.strokeStyle = gradient;
                this.ctx.lineWidth = 0.6;
                this.ctx.moveTo(particle.x, particle.y);
                this.ctx.lineTo(particle2.x, particle2.y);
                this.ctx.stroke();
              }
            }
          });
        }
      }
    });
  }

  animate() {
    this.draw();
    requestAnimationFrame(() => this.animate());
  }
}

/* ===== 2. 移动端导航 ===== */
function initMobileNav() {
  const hamburgerBtn = document.getElementById('hamburgerBtn');
  const mobileNav = document.getElementById('mobileNav');
  const hamburgerIcon = hamburgerBtn.querySelector('i');
  
  hamburgerBtn.addEventListener('click', () => {
    mobileNav.classList.toggle('active');
    if (mobileNav.classList.contains('active')) {
      hamburgerIcon.classList.remove('fa-bars');
      hamburgerIcon.classList.add('fa-times');
    } else {
      hamburgerIcon.classList.remove('fa-times');
      hamburgerIcon.classList.add('fa-bars');
    }
  });

  const mobileLinks = mobileNav.querySelectorAll('a');
  mobileLinks.forEach(link => {
    link.addEventListener('click', () => {
      mobileNav.classList.remove('active');
      hamburgerIcon.classList.remove('fa-times');
      hamburgerIcon.classList.add('fa-bars');
    });
  });
}

/* ===== 3. 渐显动画 ===== */
function initRevealAnimation() {
  const reveals = document.querySelectorAll('.reveal');
  
  function reveal() {
    reveals.forEach(el => {
      const windowHeight = window.innerHeight;
      const elementTop = el.getBoundingClientRect().top;
      const elementVisible = 80;
    
      if (elementTop < windowHeight - elementVisible) {
        el.classList.add('active');
      }
    });
  }

  window.addEventListener('scroll', reveal);
  reveal();
}

/* ===== 4. 主题切换 ===== */
function initThemeToggle() {
  const themeBtn = document.getElementById('themeBtn');
  const themeIcon = themeBtn.querySelector('i');
  
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'light') {
    document.body.classList.add('light');
    themeIcon.classList.remove('fa-moon');
    themeIcon.classList.add('fa-sun');
  }

  themeBtn.addEventListener('click', () => {
    document.body.classList.toggle('light');
    const isLight = document.body.classList.contains('light');
    
    if (isLight) {
      themeIcon.classList.remove('fa-moon');
      themeIcon.classList.add('fa-sun');
    } else {
      themeIcon.classList.remove('fa-sun');
      themeIcon.classList.add('fa-moon');
    }
    
    localStorage.setItem('theme', isLight ? 'light' : 'dark');
  });
}

/* ===== 5. 导航滚动动效 ===== */
function initNavScrollEffect() {
  const mainNav = document.getElementById('mainNav');
  
  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      mainNav.classList.add('scrolled');
    } else {
      mainNav.classList.remove('scrolled');
    }
  });
}

/* ===== 6. 加载文章列表 ===== */
function loadPosts() {
  const box = document.getElementById('postList');
  
  fetch('./posts.json', {
    method: 'GET',
    headers: {
      'Content-Type': 'application/json; charset=utf-8'
    }
  })
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP错误：${response.status}（${response.statusText}）`);
      }
      return response.json();
    })
    .then(list => {
      if (list.length === 0) {
        box.innerHTML = `
          <div class="card">
            <h2 style="background: none; -webkit-text-fill-color: var(--text-primary);">暂无文章</h2>
            <p>当前还没有发布任何文章</p>
          </div>`;
        return;
      }
      list.forEach(p => {
        box.innerHTML += `
          <article class="card reveal">
            <h2>${p.title || '无标题'}</h2>
            <div class="meta">${p.date || '未知日期'} · ${p.category || '未分类'}</div>
            <p>${p.desc || '无简介'}</p>
          </article>`;
      });
      initRevealAnimation();
    })
    .catch(error => {
      console.error('文章加载错误:', error);
      let errorMsg = '文章数据加载出错：';
      if (error.message.includes('404')) {
        errorMsg += '未找到posts.json文件（检查文件名/路径）';
      } else if (error.message.includes('CORS')) {
        errorMsg += '跨域限制（请用HTTP服务器打开）';
      } else if (error.message.includes('JSON')) {
        errorMsg += 'JSON格式错误（检查语法）';
      } else {
        errorMsg += error.message;
      }
      
      box.innerHTML = `
        <div class="card">
          <h2 style="background: none; -webkit-text-fill-color: var(--text-primary);">加载失败</h2>
          <p>${errorMsg}</p>
          <p style="font-size:0.8rem; color:var(--text-muted); margin-top:1rem;">
            排查步骤：<br>
            1. 确认posts.json和HTML在同一目录<br>
            2. 确认JSON格式正确<br>
            3. 用VSCode Live Server打开
          </p>
        </div>`;
    });
}

/* ===== 7. 加载留言板（核心：显示留言人） ===== */
function loadComments() {
  const commentList = document.getElementById('commentList');
  
  // 加载同目录下的comments.json
  fetch('./comments.json', {
    method: 'GET',
    headers: {
      'Content-Type': 'application/json; charset=utf-8'
    }
  })
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP错误：${response.status}`);
      }
      return response.json();
    })
    .then(comments => {
      console.log('留言数据加载成功:', comments);
      
      // 无留言时的提示
      if (!comments || comments.length === 0) {
        commentList.innerHTML = `
          <div class="comment-empty reveal">
            <i class="fas fa-comment-slash" style="font-size:2rem; margin-bottom:1rem; color:var(--accent-primary);"></i>
            <p>暂无留言，快来抢沙发吧～</p>
          </div>`;
        initRevealAnimation();
        return;
      }
      
      // 渲染留言列表（含留言人）
      let html = '';
      comments.forEach((comment, index) => {
        // 生成留言人首字母头像
        const avatarText = comment.username 
          ? comment.username.substring(0, 1).toUpperCase() 
          : '未知';
        
        html += `
          <div class="comment-card reveal" style="animation-delay: ${index * 0.1}s">
            <div class="comment-author">
              <div class="author-avatar">${avatarText}</div>
              <div class="author-info">
                <div class="author-name">${comment.username || '匿名用户'}</div>
                <div class="comment-date">${comment.date || '未知时间'}</div>
              </div>
            </div>
            <div class="comment-content">${comment.content || '无留言内容'}</div>
          </div>`;
      });
      
      commentList.innerHTML = html;
      initRevealAnimation();
    })
    .catch(error => {
      console.error('留言加载错误:', error);
      let errorMsg = '留言加载失败：';
      if (error.message.includes('404')) {
        errorMsg += '未找到comments.json文件';
      } else if (error.message.includes('JSON')) {
        errorMsg += 'JSON格式错误';
      } else if (error.message.includes('CORS')) {
        errorMsg += '跨域限制（请用HTTP服务器打开）';
      } else {
        errorMsg += error.message;
      }
      
      commentList.innerHTML = `
        <div class="comment-error reveal">
          <i class="fas fa-exclamation-triangle" style="font-size:2rem; margin-bottom:1rem;"></i>
          <p>${errorMsg}</p>
          <p style="font-size:0.8rem; margin-top:1rem;">
            请确保comments.json文件存在且格式正确
          </p>
        </div>`;
      initRevealAnimation();
    });
}

/* ===== 8. 加载画廊图片 ===== */
function loadGallery() {
  const galleryBox = document.getElementById('galleryBox');
  const imgCount = isMobile() ? 20 : 40;
  
  for (let i = 1; i <= imgCount; i++) {
    const img = new Image();
    img.src = `pic/${i}.jpg`;
    img.alt = `画廊图片 ${i}`;
    img.onerror = () => {
      img.src = `https://picsum.photos/150/150?random=${i}`;
    };
    img.onload = () => {
      galleryBox.appendChild(img);
    };
  }
}

/* ===== 9. Email弹窗 ===== */
function initEmailModal() {
  const emailBtn = document.getElementById('emailBtn');
  const emailModal = document.getElementById('emailModal');
  const closeModalBtn = document.getElementById('closeModalBtn');
  const copyEmailBtn = document.getElementById('copyEmailBtn');
  const emailDisplay = document.getElementById('emailDisplay');
  const copySuccess = document.getElementById('copySuccess');
  
  emailBtn.addEventListener('click', () => {
    emailModal.classList.add('active');
    document.body.style.overflow = 'hidden';
  });
  
  function closeModal() {
    emailModal.classList.remove('active');
    document.body.style.overflow = '';
    copySuccess.classList.remove('active');
  }
  
  closeModalBtn.addEventListener('click', closeModal);
  
  emailModal.addEventListener('click', (e) => {
    if (e.target === emailModal) {
      closeModal();
    }
  });
  
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && emailModal.classList.contains('active')) {
      closeModal();
    }
  });
  
  copyEmailBtn.addEventListener('click', async () => {
    try {
      await navigator.clipboard.writeText(emailDisplay.textContent);
      copySuccess.classList.add('active');
      setTimeout(() => {
        copySuccess.classList.remove('active');
      }, 2000);
    } catch (err) {
      copySuccess.textContent = '复制失败，请手动复制！';
      copySuccess.classList.add('active');
      setTimeout(() => {
        copySuccess.textContent = '已复制到剪贴板！';
        copySuccess.classList.remove('active');
      }, 2000);
    }
  });
}

/* ===== 工具函数 ===== */
function isMobile() {
  return /Mobi|Android|iPhone/i.test(navigator.userAgent);
}

/* ===== 初始化所有功能 ===== */
window.addEventListener('DOMContentLoaded', () => {
  new ParticleGalaxy();
  initMobileNav();
  initRevealAnimation();
  initThemeToggle();
  initNavScrollEffect();
  loadPosts();
  loadComments(); // 初始化留言板
  loadGallery();
  initEmailModal();
});
</script>
</body>
</html>